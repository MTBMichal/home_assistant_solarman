# SUN-8/12K-SG04LP3-EU | 8/12KW | Three Phase | 2 MPPT | Hybrid Inverter | Low Voltage Battery
# tested with LSW3_15_FFFF_1.0.91R + LSW3_15_FFFF_1.0.84

requests:
  - start: 0x0003
    end: 0x0059
    mb_functioncode: 0x03
  - start: 0x0068
    end: 0x0068
    mb_functioncode: 0x03
  - start: 0x006C
    end: 0x006D
    mb_functioncode: 0x03
  - start: 0x008E
    end: 0x008E
    mb_functioncode: 0x03
  - start: 0x0091
    end: 0x0092
    mb_functioncode: 0x03
  - start: 0x0094
    end: 0x00B1
    mb_functioncode: 0x03
  - start: 0x00D2
    end: 0x00DB
    mb_functioncode: 0x03
  - start: 0x0202  
    end: 0x022E
    mb_functioncode: 0x03 
  - start: 0x024A  
    end: 0x024F
    mb_functioncode: 0x03  
  - start: 0x0256
    end: 0x027C
    mb_functioncode: 0x03    
  - start: 0x0284  
    end: 0x028D
    mb_functioncode: 0x03   
  - start: 0x02A0  
    end: 0x02A7
    mb_functioncode: 0x03

parameters:
 - group: solar
   items: 
    - name: "PV1 Power"
      class: "power"
      state_class: "measurement"
      uom: "W"
      scale: 1
      rule: 1
      registers: [0x02A0]
      icon: 'mdi:solar-power'

    - name: "PV2 Power"
      class: "power"
      state_class: "measurement"
      uom: "W"
      scale: 1
      rule: 1
      registers: [0x02A1]
      icon: 'mdi:solar-power'

    - name: "PV1 Voltage"
      class: "voltage"
      state_class: "measurement"
      uom: "V"
      scale: 0.1
      rule: 1
      registers: [0x02A4]
      icon: 'mdi:solar-power'

    - name: "PV2 Voltage"
      class: "voltage"
      state_class: "measurement"
      uom: "V"
      scale: 0.1
      rule: 1
      registers: [0x02A6]
      icon: 'mdi:solar-power'

    - name: "PV1 Current"
      class: "current"
      state_class: "measurement"
      uom: "A"
      scale: 0.1
      rule: 1
      registers: [0x02A5]
      icon: 'mdi:solar-power'

    - name: "PV2 Current"
      class: "current"
      state_class: "measurement"
      uom: "A"
      scale: 0.1
      rule: 1
      registers: [0x02A7]
      icon: 'mdi:solar-power'

    - name: "Daily Production"
      class: "energy"
      state_class: "total_increasing"
      uom: "kWh"
      scale: 0.1
      rule: 1
      registers: [0x0211]
      icon: 'mdi:solar-power'
      validation:
        max: 100
        invalidate_all:

    - name: "Total Production"
      class: "energy"
      state_class: "total_increasing"
      uom: "kWh"
      scale: 0.1
      rule: 3
      registers: [0x0216,0x0217]
      icon: 'mdi:solar-power'

 - group: Battery
   items:
    - name: "Daily Battery Charge"
      class: "energy"
      state_class: "total_increasing"      
      uom: "kWh"
      scale: 0.1
      rule: 1
      registers: [0x0202]
      icon: 'mdi:battery-plus'
    - name: "Daily Battery Discharge"
      class: "energy"
      state_class: "total_increasing"      
      uom: "kWh"
      scale: 0.1
      rule: 1
      registers: [0x0203]
      icon: 'mdi:battery-plus'

    - name: "Total Battery Charge"
      class: "energy"
      state_class: "total_increasing"      
      uom: "kWh"
      scale: 0.1
      rule: 3
      registers: [0x0204,0x0205]
      icon: 'mdi:battery-plus'

    - name: "Total Battery Discharge"
      class: "energy"
      state_class: "total_increasing"
      uom: "kWh"
      scale: 0.1
      rule: 3
      registers: [0x0206,0x0207]
      icon: 'mdi:battery-minus'

    - name: "Battery Power"
      class: "power"
      state_class: "measurement"
      uom: "W"
      scale: 1
      rule: 2
      registers: [0x024E]
      icon: 'mdi:battery'

    - name: "Battery Voltage"
      class: "voltage"
      state_class: "measurement"
      uom: "V"
      scale: 0.01
      rule: 1
      registers: [0x024B]
      icon: 'mdi:battery'

    - name: "Battery SOC"
      class: "battery"
      state_class: "measurement"
      uom: "%"
      scale: 1
      rule: 1
      registers: [0x024C]
      icon: 'mdi:battery'
      validation:
        min: 0
        max: 101

    - name: "Battery Current"
      class: "current"
      state_class: "measurement"
      uom: "A"
      scale: 0.01
      rule: 2
      registers: [0x024F]
      icon: 'mdi:battery'

    - name: "Battery Temperature"
      class: "temperature"
      state_class: "measurement"
      uom: "째C"
      scale: 0.1
      rule: 1
      offset: 1000      
      registers: [0x024A]
      icon: 'mdi:battery'
      validation:
        min: 1
        max: 99
        invalidate_all:

    - name: "Battery max charge current"
      class: "current"
      state_class: "measurement"
      uom: "A"
      scale: 1
      rule: 1
      registers: [0x006C]
      icon: 'mdi:battery'

    - name: "Battery max discharge current"
      class: "current"
      state_class: "measurement"
      uom: "A"
      scale: 1
      rule: 1
      registers: [0x006D]
      icon: 'mdi:battery'

 - group: BMS
   items:
    - name: "BMS Charge Voltage"
      class: "voltage"
      state_class: "measurement"
      uom: "V"
      scale: 0.01
      rule: 1
      registers: [0x00D2]
      icon: 'mdi:battery'

    - name: "BMS Discharge Voltage"
      class: "voltage"
      state_class: "measurement"
      uom: "V"
      scale: 0.01
      rule: 1
      registers: [0x00D3]
      icon: 'mdi:battery'

    - name: "BMS Charge Current Limit"
      class: "current"
      state_class: "measurement"
      uom: "A"
      scale: 1
      rule: 1
      registers: [0x00D4]
      icon: 'mdi:battery'

    - name: "BMS Discharge Current Limit"
      class: "current"
      state_class: "measurement"
      uom: "A"
      scale: 1
      rule: 1
      registers: [0x00D5]
      icon: 'mdi:battery'

    - name: "BMS SOC"
      class: "battery"
      state_class: "measurement"
      uom: "%"
      scale: 1
      rule: 1
      registers: [0x00D6]
      icon: 'mdi:battery'

    - name: "BMS Voltage"
      class: "voltage"
      state_class: "measurement"
      uom: "V"
      scale: 0.01
      rule: 1
      registers: [0x00D7]
      icon: 'mdi:battery'

    - name: "BMS Current"
      class: "current"
      state_class: "measurement"
      uom: "A"
      scale: 1
      rule: 1
      registers: [0x00D8]
      icon: 'mdi:battery'

    - name: "BMS Temperature"
      class: "temperature"
      state_class: "measurement"
      uom: "째C"
      scale: 0.1
      rule: 1
      offset: 1000
      registers: [0x00D9]
      icon: 'mdi:battery'

    - name: "BMS Maximum Charge Current"
      class: "current"
      state_class: "measurement"
      uom: "A"
      scale: 1
      rule: 1
      registers: [0x00DA]
      icon: 'mdi:battery'

    - name: "BMS Maximum Discharge Current"
      class: "current"
      state_class: "measurement"
      uom: "A"
      scale: 1
      rule: 1
      registers: [0x00DB]
      icon: 'mdi:battery'

 - group: Grid
   items: 
    - name: "Total Grid Power"
      class: "measurement"
      state_class: "measurement"
      uom: "W"
      scale: 1
      rule: 2
      registers: [0x0271]
      icon: 'mdi:transmission-tower'

    - name: "Grid Voltage L1"
      class: "voltage"
      state_class: "measurement"
      uom: "V"
      scale: 0.1
      rule: 1
      registers: [0x0256]
      icon: 'mdi:transmission-tower'

    - name: "Grid Voltage L2"
      class: "voltage"
      state_class: "measurement"
      uom: "V"
      scale: 0.1
      rule: 1
      registers: [0x0257]
      icon: 'mdi:transmission-tower'
      
    - name: "Grid Voltage L3"
      class: "voltage"
      state_class: "measurement"
      uom: "V"
      scale: 0.1
      rule: 1
      registers: [0x0258]
      icon: 'mdi:transmission-tower'  

    - name: "Internal CT L1 Power"
      class: "power"
      state_class: "measurement"
      uom: "W"
      scale: 1
      rule: 2
      registers: [0x025C]
      icon: 'mdi:transmission-tower'

    - name: "Internal CT L2 Power"
      class: "power"
      state_class: "measurement"
      uom: "W"
      scale: 1
      rule: 2
      registers: [0x025D]
      icon: 'mdi:transmission-tower'
      
    - name: "Internal CT L3 Power"
      class: "power"
      state_class: "measurement"
      uom: "W"
      scale: 1
      rule: 2
      registers: [0x025E]
      icon: 'mdi:transmission-tower'  

    - name: "External CT L1 Power"
      class: "power"
      state_class: "measurement"
      uom: "W"
      scale: 1
      rule: 2
      registers: [0x0268]
      icon: 'mdi:transmission-tower'

    - name: "External CT L2 Power"
      class: "power"
      state_class: "measurement"
      uom: "W"
      scale: 1
      rule: 2
      registers: [0x0269]
      icon: 'mdi:transmission-tower'
      
    - name: "External CT L3 Power"
      class: "power"
      state_class: "measurement"
      uom: "W"
      scale: 1
      rule: 2
      registers: [0x026A]
      icon: 'mdi:transmission-tower'
      
    - name: "Daily Energy Bought"
      class: "energy"
      state_class: "total_increasing"
      uom: "kWh"
      scale: 0.1
      rule: 1
      registers: [0x0208]
      icon: 'mdi:transmission-tower-export'

    - name: "Total Energy Bought"
      class: "energy"
      state_class: "total_increasing"
      uom: "kWh"
      scale: 0.1
      rule: 1
      registers: [0x020A,0x020B]
      icon: 'mdi:transmission-tower-export'
      
    - name: "Daily Energy Sold"
      class: "energy"
      state_class: "total_increasing"
      uom: "kWh"
      scale: 0.1
      rule: 1
      registers: [0x0209]
      icon: 'mdi:transmission-tower-import'

    - name: "Total Energy Sold"
      class: "energy"
      state_class: "total_increasing"
      uom: "kWh"
      scale: 0.1
      rule: 3
      registers: [0x020C,0x020D]
      icon: 'mdi:transmission-tower-import'

    - name: "Total Grid Production"
      class: "energy"
      state_class: "total_increasing"
      uom: "kWh"
      scale: 0.1
      rule: 4
      registers: [0x020C,0x020D]
      icon: 'mdi:transmission-tower'
      
 - group: Upload
   items: 
    - name: "Total Load Power"
      class: "power"
      state_class: "measurement"      
      uom: "W"
      scale: 1
      rule: 1
      registers: [0x028D]
      icon: 'mdi:lightning-bolt-outline'

    - name: "Load L1 Power"
      class: "power"
      state_class: "measurement"      
      uom: "W"
      scale: 1
      rule: 1
      registers: [0x028A]
      icon: 'mdi:lightning-bolt-outline'

    - name: "Load L2 Power"
      class: "power"
      state_class: "measurement"      
      uom: "W"
      scale: 1
      rule: 1
      registers: [0x028B]
      icon: 'mdi:lightning-bolt-outline'
      
    - name: "Load L3 Power"
      class: "power"
      state_class: "measurement"      
      uom: "W"
      scale: 1
      rule: 1
      registers: [0x028C]
      icon: 'mdi:lightning-bolt-outline'
      
    - name: "Load Voltage L1"
      class: "voltage"
      state_class: "measurement"      
      uom: "V"
      scale: 0.1
      rule: 1
      registers: [0x0284]
      icon: 'mdi:lightning-bolt-outline'
      
    - name: "Load Voltage L2"
      class: "voltage"
      state_class: "measurement"      
      uom: "V"
      scale: 0.1
      rule: 1
      registers: [0x0285]
      icon: 'mdi:lightning-bolt-outline'
      
    - name: "Load Voltage L3"
      class: "voltage"
      state_class: "measurement"      
      uom: "V"
      scale: 0.1
      rule: 1
      registers: [0x0286]
      icon: 'mdi:lightning-bolt-outline'
      
    - name: "Daily Load Consumption"
      class: "energy"
      state_class: "total_increasing"      
      uom: "kWh"
      scale: 0.1
      rule: 1
      registers: [0x020E]
      icon: 'mdi:lightning-bolt-outline'

    - name: "Total Load Consumption"
      class: "energy"
      state_class: "total_increasing"      
      uom: "kWh"
      scale: 0.1
      rule: 3
      registers: [0x020F,0x0210]
      icon: 'mdi:lightning-bolt-outline'
     
 - group: Inverter
   items:
    - name: "Current L1"
      class: "current"
      state_class: "measurement"      
      uom: "A"
      scale: 0.01
      rule: 2
      registers: [0x0276]
      icon: 'mdi:home-lightning-bolt'

    - name: "Current L2"
      class: "current"
      state_class: "measurement"
      uom: "A"
      scale: 0.01
      rule: 2
      registers: [0x0277]
      icon: 'mdi:home-lightning-bolt'
      
    - name: "Current L3"
      class: "current"
      uom: "A"
      scale: 0.01
      rule: 2
      registers: [0x0278]
      icon: 'mdi:home-lightning-bolt'
      
    - name: "Inverter L1 Power"
      class: "power"
      state_class: "measurement"      
      uom: "W"
      scale: 1
      rule: 2
      registers: [0x0279]
      icon: 'mdi:home-lightning-bolt'

    - name: "Inverter L2 Power"
      class: "power"
      state_class: "measurement"      
      uom: "W"
      scale: 1
      rule: 2
      registers: [0x027A]
      icon: 'mdi:home-lightning-bolt'
      
    - name: "Inverter L3 Power"
      class: "power"
      state_class: "measurement"      
      uom: "W"
      scale: 1
      rule: 2
      registers: [0x027B]
      icon: 'mdi:home-lightning-bolt'
      
    - name: "DC Temperature"
      class: "temperature"
      state_class: "measurement"      
      uom: "째C"
      scale: 0.1
      rule: 2
      offset: 1000      
      registers: [0x021C]
      icon: 'mdi:thermometer'

    - name: "AC Temperature"
      class: "temperature"
      state_class: "measurement"      
      uom: "째C"
      scale: 0.1
      rule: 2
      offset: 1000      
      registers: [0x021D]
      icon: 'mdi:thermometer'

    - name: "Inverter ID"
      class: ""
      state_class: ""      
      uom: ""
      scale: 1
      rule: 5
      registers: [0x0003,0x0004,0x0005,0x0006,0x0007]
      isstr: true
    
    - name: "Communication Board Version No."
      class: ""
      state_class: ""      
      uom: ""
      scale: 1
      rule: 1
      registers: [0x0011]
      isstr: true

    - name: "Control Board Version No."
      class: ""
      state_class: ""      
      uom: ""
      scale: 1
      rule: 1
      registers: [0x000D]
      isstr: true

    - name: "Work mode"
      class: ""
      state_class: ""
      uom: ""
      scale: 1
      rule: 1
      registers: [0x008E]

    - name: "Solar sell"
      class: ""
      state_class: ""
      uom: ""
      scale: 1
      rule: 1
      registers: [0x0091]
    - name: "Timetable enable"
      class: ""
      state_class: ""
      uom: ""
      scale: 1
      rule: 6
      registers: [0x0092]

    - name: "Inverter status"
      class: ""
      state_class: ""
      uom: ""
      scale: 1
      rule: 1
      registers: [0x0050]

    - name: "Zero export power"
      class: "power"
      state_class: "measurement"
      uom: "W"
      scale: 1
      rule: 1
      registers: [0x0068]

 - group: Timetable
   items:
    - name: "Time point 1"
      class: ""
      state_class: ""
      uom: ""
      scale: 1
      rule: 1
      registers: [0x0094]
      icon: 'mdi:timelapse'
    - name: "Time point 2"
      class: ""
      state_class: ""
      uom: ""
      scale: 1
      rule: 1
      registers: [0x0095]
      icon: 'mdi:timelapse'
    - name: "Time point 3"
      class: ""
      state_class: ""
      uom: ""
      scale: 1
      rule: 1
      registers: [0x0096]
      icon: 'mdi:timelapse'
    - name: "Time point 4"
      class: ""
      state_class: ""
      uom: ""
      scale: 1
      rule: 1
      registers: [0x0097]
      icon: 'mdi:timelapse'
    - name: "Time point 5"
      class: ""
      state_class: ""
      uom: ""
      scale: 1
      rule: 1
      registers: [0x0098]
      icon: 'mdi:timelapse'
    - name: "Time point 6"
      class: ""
      state_class: ""
      uom: ""
      scale: 1
      rule: 1
      registers: [0x0099]
      icon: 'mdi:timelapse'
    - name: "Time point 1 Watts"
      class: ""
      state_class: ""
      uom: "W"
      scale: 1
      rule: 2
      registers: [0x009A]
      icon: 'mdi:transmission-tower'
    - name: "Time point 2 Watts"
      class: ""
      state_class: ""
      uom: "W"
      scale: 1
      rule: 2
      registers: [0x009B]
      icon: 'mdi:transmission-tower'
    - name: "Time point 3 Watts"
      class: ""
      state_class: ""
      uom: "W"
      scale: 1
      rule: 2
      registers: [0x009C]
      icon: 'mdi:transmission-tower'
    - name: "Time point 4 Watts"
      class: ""
      state_class: ""
      uom: "W"
      scale: 1
      rule: 2
      registers: [0x009D]
      icon: 'mdi:transmission-tower'
    - name: "Time point 5 Watts"
      class: ""
      state_class: ""
      uom: "W"
      scale: 1
      rule: 2
      registers: [0x009E]
      icon: 'mdi:transmission-tower'
    - name: "Time point 6 Watts"
      class: ""
      state_class: ""
      uom: "W"
      scale: 1
      rule: 2
      registers: [0x009F]
      icon: 'mdi:transmission-tower'
    - name: "Time point 1 Volts"
      class: ""
      state_class: ""
      uom: "V"
      scale: 0.1
      rule: 1
      registers: [0x00A0]
      icon: 'mdi:solar-power'
    - name: "Time point 2 Volts"
      class: ""
      state_class: ""
      uom: "V"
      scale: 0.1
      rule: 1
      registers: [0x00A1]
      icon: 'mdi:solar-power'
    - name: "Time point 3 Volts"
      class: ""
      state_class: ""
      uom: "V"
      scale: 0.1
      rule: 1
      registers: [0x00A2]
      icon: 'mdi:solar-power'
    - name: "Time point 4 Volts"
      class: ""
      state_class: ""
      uom: "V"
      scale: 0.1
      rule: 1
      registers: [0x00A3]
      icon: 'mdi:solar-power'
    - name: "Time point 5 Volts"
      class: ""
      state_class: ""
      uom: "V"
      scale: 0.1
      rule: 1
      registers: [0x00A4]
      icon: 'mdi:solar-power'
    - name: "Time point 6 Volts"
      class: ""
      state_class: ""
      uom: "V"
      scale: 0.1
      rule: 1
      registers: [0x00A5]
      icon: 'mdi:solar-power'
    - name: "Time point 1 SOC"
      class: ""
      state_class: ""
      uom: "%"
      scale: 1
      rule: 1
      registers: [0x00A6]
      icon: 'mdi:battery'
    - name: "Time point 2 SOC"
      class: ""
      state_class: ""
      uom: "%"
      scale: 1
      rule: 1
      registers: [0x00A7]
      icon: 'mdi:battery'
    - name: "Time point 3 SOC"
      class: ""
      state_class: ""
      uom: "%"
      scale: 1
      rule: 1
      registers: [0x00A8]
      icon: 'mdi:battery'
    - name: "Time point 4 SOC"
      class: ""
      state_class: ""
      uom: "%"
      scale: 1
      rule: 1
      registers: [0x00A9]
      icon: 'mdi:battery'
    - name: "Time point 5 SOC"
      class: ""
      state_class: ""
      uom: "%"
      scale: 1
      rule: 1
      registers: [0x00AA]
      icon: 'mdi:battery'
    - name: "Time point 6 SOC"
      class: ""
      state_class: ""
      uom: "%"
      scale: 1
      rule: 1
      registers: [0x00AB]
      icon: 'mdi:battery'
    - name: "Time point 1 charge enable"
      class: ""
      state_class: ""
      uom: ""
      scale: 1
      rule: 1
      registers: [0x00AC]
    - name: "Time point 2 charge enable"
      class: ""
      state_class: ""
      uom: ""
      scale: 1
      rule: 1
      registers: [0x00AD]
    - name: "Time point 3 charge enable"
      class: ""
      state_class: ""
      uom: ""
      scale: 1
      rule: 1
      registers: [0x00AE]
    - name: "Time point 4 charge enable"
      class: ""
      state_class: ""
      uom: ""
      scale: 1
      rule: 1
      registers: [0x00AF]
    - name: "Time point 5 charge enable"
      class: ""
      state_class: ""
      uom: ""
      scale: 1
      rule: 1
      registers: [0x00B0]
    - name: "Time point 6 charge enable"
      class: ""
      state_class: ""
      uom: ""
      scale: 1
      rule: 1
      registers: [0x00B1]

 - group: Alert
   items: 
    - name: "Alert"
      class: ""
      state_class: ""      
      uom: ""
      scale: 1
      rule: 6
      registers: [0x0229,0x022A,0x22B,0x022C,0x022D,0x022E]
